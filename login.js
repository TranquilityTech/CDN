new Swiper(".blog-slider",{spaceBetween:30,effect:"fade",loop:!0,mousewheel:{invert:!1},pagination:{el:".blog-slider__pagination",clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1}});const Toast=Swal.mixin({toast:!0,icon:"success",position:"bottom-start",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,background:"rgba(47, 47, 47)",didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}});let userLanguage="en";function toggleView(){document.querySelector(".login").classList.toggle("is-active"),document.querySelector(".register").classList.toggle("is-active"),document.querySelector(".sign-up-toggle").classList.toggle("is-active"),document.querySelector(".login-toggle").classList.toggle("is-active")}function slideElements(e){document.querySelector(e.showEle).classList.remove(e.removeShowClass),document.querySelector(e.showEle).classList.add(e.addShowClass),document.querySelector(e.hideEle).classList.remove(e.removeHideClass),document.querySelector(e.hideEle).classList.add(e.addHideClass)}function turnToReg(){event.preventDefault(),toggleView(),document.querySelector(".login-view-toggle").classList.replace("move-bottom","move-top"),slideElements({showEle:".register",removeShowClass:"down",addShowClass:"pull-up",hideEle:".login",addHideClass:"up",removeHideClass:"push-down"})}function turnToLogin(){event.preventDefault(),toggleView(),document.querySelector(".login-view-toggle").classList.replace("move-top","move-bottom"),slideElements({showEle:".login",removeShowClass:"up",addShowClass:"push-down",hideEle:".register",addHideClass:"down",removeHideClass:"pull-up"})}function checkRegEmail(){let e=new RegExp("^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$");""==event.currentTarget.value?Toast.fire({icon:"warning",title:`${i18next.t("Your email?")}`}):e.test(event.currentTarget.value)||Toast.fire({icon:"warning",title:`${i18next.t("Your email?")}`})}function checkPasswd(){event.currentTarget.value.length<6&&Toast.fire({icon:"warning",title:`${i18next.t("Password must be at least 6 characters")}`})}function checkRePasswd(){let e=event.currentTarget,t=e.closest(".register").querySelector('input[name="passwd"]').value;e.value.length<6&&Toast.fire({icon:"warning",title:`${i18next.t("Password must be at least 6 characters")}`}),t!==e.value&&Toast.fire({icon:"warning",title:`${i18next.t("Password not match")}`})}async function recoverPasswd(){const{value:e}=await Swal.fire({title:"Recover Password",input:"email",inputPlaceholder:"Enter your email address",background:"rgba(30, 30, 30, .8)"});e&&(Swal.fire({background:"rgba(30, 30, 30, .8)",allowOutsideClick:!1,onBeforeOpen:()=>{Swal.showLoading()}}),fetch("/sendRecoveryPasswordEmail",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","CSRF-Token":$STATE.csrfToken},credentials:"include",body:JSON.stringify({email:e})}).then(e=>e.json()).then(e=>{Swal.close(),200===e.status?Swal.fire({icon:"success",title:`${i18next.t("An email has been sent")}`,background:"rgba(30, 30, 30, .8)"}):503===e.status&&Swal.fire({icon:"error",title:`${i18next.t("Wrong email")}`,text:`${i18next.t("The system was unable to find a matching Tranquility Account based on the information you provided")}`,background:"rgba(30, 30, 30, .8)"})}))}function submitRegister(){event.currentTarget.style.width="auto",event.currentTarget.innerHTML='<i class="fa fa-spinner fa-spin"></i>'}function checkPsswdString(){let e=document.querySelector("#passwdStatus"),t=event.currentTarget,a=t.value.length;if(e.querySelectorAll(".progress-bar_item").forEach(e=>e.classList.remove("active")),0===a)e.style.display="none";else{e.style.display="block";let a=0;switch(t.value.match(/[a-z]+/)&&(a+=1),t.value.match(/[A-Z]+/)&&(a+=1),t.value.match(/[0-9]+/)&&(a+=1),t.value.match(/[$@#&!]+/)&&(a+=1),a){case 2:case 3:e.querySelectorAll(".progress-bar_item")[0].classList.add("active"),e.querySelectorAll(".progress-bar_item")[1].classList.add("active");break;case 4:e.querySelectorAll(".progress-bar_item")[0].classList.add("active"),e.querySelectorAll(".progress-bar_item")[1].classList.add("active"),e.querySelectorAll(".progress-bar_item")[2].classList.add("active");break;default:e.querySelectorAll(".progress-bar_item")[0].classList.add("active")}}}function showQrCode(){Swal.fire({html:'<div id="qrcode"></div>',didOpen:()=>{new QRCode(document.getElementById("qrcode"),{text:"https://www.tranquility.tech/",colorDark:"#006c5c",colorLight:"#1f1f1f",correctLevel:QRCode.CorrectLevel.H,title:"Tranquility",titleFont:"normal normal bold 18px Arial",titleColor:"#00bd8a",titleBackgroundColor:"#1f1f1f",titleHeight:40,titleTop:20})},width:350,animation:!0,showCloseButton:!1,showConfirmButton:!1,showCancelButton:!1,focusConfirm:!1,background:"rgba(30, 30, 30, .8)"})}fetch(`https://cdn.jsdelivr.net/gh/TranquilityTech/tqi18n@1.0.1/${userLanguage}/translation.json`).then(e=>e.json()).then(e=>{i18next.init({lng:`${userLanguage}`,resources:{userLanguage:{translation:e}}})}).catch(e=>console.error(e)),window.addEventListener("load",()=>{document.querySelectorAll(".blog-slider__img").forEach(e=>e.style.visibility="visible")});